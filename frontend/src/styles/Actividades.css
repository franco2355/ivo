@import "tailwindcss/components";

@layer components {
  .actividades-container {
    @apply p-5 w-full bg-gray-light box-border;
    min-height: calc(100vh - 60px);
  }

  .actividades-grid {
    @apply grid gap-6 my-8 mx-auto w-full max-w-[1400px] box-border justify-center bg-gray-light px-5;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  }

  .actividad-card {
    @apply bg-white rounded-lg p-5 relative transition-all duration-300;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .actividad-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
    border-color: #d1d1d1;
  }

  .actividad-card h3 {
    @apply text-[1.3rem] text-dark m-0 mb-4 font-semibold whitespace-nowrap overflow-hidden text-ellipsis pb-2 border-b-2 border-[#f0f0f0];
  }

  .actividad-info {
    @apply flex-1 overflow-y-auto mb-5 pr-3;
  }

  .actividad-info::-webkit-scrollbar {
    @apply w-1.5;
  }

  .actividad-info::-webkit-scrollbar-track {
    @apply bg-[#f1f1f1] rounded;
  }

  .actividad-info::-webkit-scrollbar-thumb {
    @apply bg-[#c1c1c1] rounded;
  }

  .actividad-info::-webkit-scrollbar-thumb:hover {
    @apply bg-[#a1a1a1];
  }

  .actividad-info p {
    @apply text-[0.95rem] text-[#4a4a4a] mb-4 leading-normal;
  }

  .actividad-info p:last-child {
    @apply mb-0 pb-2;
  }

  .actividad-horario {
    @apply block mt-2 text-gray text-sm pl-5 relative;
  }

  .actividad-horario::before {
    @apply absolute left-0 top-1/2;
    content: "ðŸ•’";
    transform: translateY(-50%);
  }

  .card-actions {
    @apply flex gap-2.5 mt-4 flex-wrap;
  }

  .inscripcion-button,
  .ver-mas-button {
    @apply px-4 py-2 border-none rounded cursor-pointer font-medium transition-colors duration-300;
  }

  .inscripcion-button {
    @apply bg-primary text-white;
  }

  .inscripcion-button:hover {
    @apply bg-[#45a049];
  }

  .inscripcion-button.cancelar {
    @apply bg-[#dc3545] text-white;
  }

  .inscripcion-button.cancelar:hover {
    @apply bg-[#c82333];
  }

  .ver-mas-button {
    @apply bg-secondary text-white;
  }

  .ver-mas-button:hover {
    @apply bg-secondary-dark;
  }

  .edit-button {
    @apply bg-primary text-white border-none rounded-md text-base font-semibold px-4 py-2 transition-colors duration-300 cursor-pointer;
  }

  .edit-button:hover {
    @apply bg-primary-dark;
  }

  .delete-button {
    @apply bg-danger text-white border-none rounded-md text-base font-semibold px-4 py-2 transition-colors duration-300 cursor-pointer;
  }

  .delete-button:hover {
    @apply bg-danger-dark;
  }

  .filtros-container {
    @apply flex items-center gap-3 justify-center p-5 bg-white rounded-xl w-full max-w-[900px] mx-auto box-border;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
  }

  .search-wrapper {
    @apply relative flex items-center flex-1 min-w-[200px];
  }

  .search-icon {
    @apply absolute left-3 text-[#9ca3af] text-sm pointer-events-none;
  }

  .filtro-input {
    @apply text-[#333] w-full border border-[#e5e7eb] rounded-lg text-sm bg-[#f9fafb] font-normal;
    padding: 0.75rem 1rem 0.75rem 2.5rem;
    transition: all 0.2s ease;
    height: 44px;
  }

  .filtro-input::placeholder {
    @apply text-[#9ca3af] opacity-100 text-sm font-normal;
  }

  .filtro-input:focus {
    @apply text-[#333] outline-none border-primary bg-white;
    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.15);
  }

  .filtro-select {
    @apply text-[#333] min-w-[130px] border border-[#e5e7eb] rounded-lg text-sm bg-[#f9fafb] cursor-pointer font-normal;
    padding: 0 1rem;
    transition: all 0.2s ease;
    height: 44px;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
    background-size: 1rem;
    padding-right: 2.5rem;
  }

  .filtro-select:focus {
    @apply text-[#333] outline-none border-primary bg-white;
    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.15);
  }

  .filtro-select:hover {
    @apply border-[#d1d5db] bg-white;
  }

  .actividad-card.expanded {
    @apply fixed top-1/2 left-1/2 z-[1001] w-[95vw] max-w-[600px] bg-white rounded-2xl;
    transform: translate(-50%, -50%);
    box-shadow: 0 8px 32px rgba(0,0,0,0.25);
    padding: 32px 24px 24px 24px;
    animation: fadeInScale 0.2s;
  }

  @keyframes fadeInScale {
    from {
      opacity: 0;
      transform: translate(-50%, -40%) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }
  }

  .actividades-modal-bg {
    @apply fixed top-0 left-0 right-0 bottom-0 w-screen h-screen z-[1000];
    background: rgba(0,0,0,0.25);
    animation: fadeInBg 0.2s;
  }

  @keyframes fadeInBg {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .actividad-info-basic {
    @apply my-2.5 font-medium;
    color: #111 !important;
    font-size: 1.05rem;
  }

  .actividad-info-basic p {
    @apply m-0 mb-1.5 font-medium;
    color: #111 !important;
    font-size: 1.05rem;
  }

  .actividad-info-expanded {
    @apply mt-5 grid gap-5 bg-[#f7f7fa] rounded-[10px] p-5;
    grid-template-columns: 1fr 1fr;
    box-shadow: 0 2px 8px rgba(0,0,0,0.07);
  }

  .actividad-imagen {
    @apply w-full h-[220px] overflow-hidden rounded-lg bg-[#eaeaea] flex items-center justify-center;
  }

  .actividad-imagen img {
    @apply w-full h-full object-cover rounded-lg;
  }

  .actividad-detalles {
    @apply text-[#222] text-[1.08rem] font-medium flex flex-col gap-3;
    padding: 10px 0 10px 10px;
  }

  .actividad-detalles p {
    @apply m-0 text-[#222] text-[1.08rem] font-medium leading-normal;
  }

  /* Restricciones de plan */
  .restriccion-plan-container {
    @apply w-full flex flex-col gap-2.5;
  }

  .inscripcion-button.disabled {
    @apply bg-[#9e9e9e] text-white cursor-not-allowed opacity-60;
  }

  .inscripcion-button.disabled:hover {
    @apply bg-[#9e9e9e];
    transform: none;
  }

  .restriccion-mensaje {
    @apply text-[0.85rem] text-[#e65100] font-medium bg-[#fff3e0] border border-[#ffb74d] rounded px-2.5 py-1.5;
  }

  .upgrade-plan-button {
    @apply bg-[#ff6f00] text-white px-4 py-2 border-none rounded cursor-pointer font-medium transition-all duration-300;
    box-shadow: 0 2px 4px rgba(255, 111, 0, 0.3);
  }

  .upgrade-plan-button:hover {
    @apply bg-[#e65100];
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(255, 111, 0, 0.4);
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .actividades-container {
      @apply w-full;
      padding: 1.5rem 1rem 3rem 1rem;
    }

    .actividades-grid {
      @apply justify-center;
      grid-template-columns: repeat(auto-fit, 350px);
    }

    .filtros-container {
      @apply w-full m-0;
    }
  }

  @media (max-width: 768px) {
    .actividades-container {
      @apply w-full;
      padding: 1rem 1rem 2.5rem 1rem;
    }

    .filtros-container {
      @apply flex-col items-stretch gap-3 p-4 w-full max-w-none;
    }

    .search-wrapper {
      @apply max-w-none w-full min-w-0;
    }

    .filtro-select {
      @apply w-full;
    }

    .filtro-input {
      @apply w-full;
    }

    .actividades-grid {
      @apply justify-center;
      grid-template-columns: repeat(auto-fit, 350px);
    }

    .actividad-card {
      @apply min-h-0 max-h-full w-full;
    }

    .actividad-card.expanded {
      @apply max-w-[98vw];
      padding: 12px 4px 16px 4px;
    }

    .actividad-info-expanded {
      @apply p-4;
      grid-template-columns: 1fr;
    }

    .actividad-imagen {
      @apply h-[160px];
    }

    .actividad-detalles {
      @apply text-base;
      padding: 8px 0 8px 0;
    }
  }

  .mensaje-no-actividades {
    @apply col-span-full text-center text-[#888] text-xl p-8;
  }

  .toggle-wrapper {
    @apply flex items-center ml-4;
  }

  .toggle-label {
    @apply flex items-center cursor-pointer select-none;
  }

  .toggle-input {
    @apply hidden;
  }

  .toggle-slider {
    @apply w-11 h-6 bg-[#ccc] rounded-3xl relative mr-2.5 transition-colors duration-300;
  }

  .toggle-slider::before {
    @apply absolute left-[3px] top-[3px] w-[18px] h-[18px] bg-white rounded-full;
    content: "";
    transition: transform 0.3s;
    box-shadow: 0 1px 4px rgba(0,0,0,0.15);
  }

  .toggle-input:checked + .toggle-slider {
    @apply bg-primary;
  }

  .toggle-input:checked + .toggle-slider::before {
    transform: translateX(12px);
  }

  .toggle-text {
    @apply text-[#222] text-base font-medium ml-0.5;
  }
}
